/**
 * Item database for Item Roll system
 * Organized by category > subcategory > items
 * 
 * Place this file at: src/features/itemroll/data/items.js
 */

const ITEMS = {
  weapons: {
    'Sword & Shield': [
      {
        name: "Queen Bellandir's Languishing Blade",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword_00034.webp'
      },
      {
        name: "Deluzhnoa's Edge of Eternal Frost",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword_00052.webp'
      },
      {
        name: "Daigon's Stormblade",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword_00017A.webp'
      },
      {
        name: "Chernobog's Cauterizing Blade",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword_00033A.webp'
      },
      {
        name: "Cornelius's Blade of Dancing Flame",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword_00008B.webp'
      },
      {
        name: "Nirma's Sword of Falling Ash",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword_00035A.webp'
      },
      {
        name: "Ahzreil's Soulless Sword",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword_00026B.webp'
      }
    ],
    'Greatsword': [
      {
        name: "Cordy's Warblade of Creeping Doom",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword2h_00052.webp'
      },
      {
        name: "Tevent's Warblade of Despair",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword2h_00036.webp'
      },
      {
        name: "Naru's Frenzied Greatblade",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword2h_00034.webp'
      },
      {
        name: "Morokai's Soulfire Greatblade",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword2h_00027A.webp'
      },
      {
        name: "Adentus's Cinderhulk Greatsword",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword2h_00028A.webp'
      },
      {
        name: "Junobote's Blade of the Red Colossus",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Sword2h_00039A.webp'
      }
    ],
    'Daggers': [
      {
        name: "Tevent's Fangs of Fury",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Dagger_00035.webp'
      },
      {
        name: "Deluzhnoa's Permafrost Razors",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Dagger_00052.webp'
      },
      {
        name: "Leviathan's Bladed Tendrils",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Dagger_00051.webp'
      },
      {
        name: "Kowazan's Daggers of the Blood Moon",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Dagger_00037A.webp'
      },
      {
        name: "Minzerok's Daggers of Flaying",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Dagger_00039A.webp'
      }
    ],
    'Bow': [
      {
        name: "Tevent's Arc of Wailing Death",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Bow_00018.webp'
      },
      {
        name: "Deluzhnoa's Arc of Frozen Death",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Bow_00017.webp'
      },
      {
        name: "Leviathan's Bloodstorm Longbow",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Bow_00051.webp'
      },
      {
        name: "Grand Aelon's Longbow of Blight",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Dagger_00035.webp'
      }
    ],
    'Crossbow': [
      {
        name: "Queen Bellandir's Toxic Spine Throwers",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Crossbow_00033.webp'
      },
      {
        name: "Cordy's Stormspore Spike Slingers",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Crossbow_00030.webp'
      },
      {
        name: "Akman's Bloodletting Crossbows",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Crossbow_00031.webp'
      },
      {
        name: "Malakar's Flamespike Crossbows",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Crossbow_00034A.webp'
      },
      {
        name: "Kowazan's Crossbows of the Eclipse",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Crossbow_00035A.webp'
      }
    ],
    'Wand': [
      {
        name: "Tevent's Grasp of Withering",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Wand_00011.webp'
      },
      {
        name: "Cordy's Grasp of Manipulation",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Wand_00015.webp'
      },
      {
        name: "Deckman's Balefire Scepter",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Wand_00003C.webp'
      },
      {
        name: "Excavator's Radiant Scepter",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Wand_00012A.webp'
      }
    ],
    'Staff': [
      {
        name: "Queen Bellandir's Hivemind Staff",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Staff_00019.webp'
      },
      {
        name: "Deluzhnoa's Ancient Petrified Staff",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Staff_00018A.webp'
      },
      {
        name: "Daigon's Charred Emberstaff",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_staff_00036.webp'
      },
      {
        name: "Talus's Incandescent Staff",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Staff_00032A.webp'
      },
      {
        name: "Aridus's Immolated Voidstaff",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Staff_00033A.webp'
      }
    ],
    'Spear': [
      {
        name: "Deluzhnoa's Serrated Shard",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Spear_00026.webp'
      },
      {
        name: "Queen Bellandir's Serrated Spike",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Spear_00018.webp'
      },
      {
        name: "Naru's Sawfang Spear",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Spear_00030.webp'
      },
      {
        name: "Junobote's Extra Smoldering Ranseur",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Spear_00021A.webp'
      }
    ],
    'Orb': [
      {
        name: "Tevent's Omniscient Eye",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Orb_00014.webp'
      },
      {
        name: "Cordy's Source of Contagion",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Orb_00019.webp'
      },
      {
        name: "Manticus Fraternal Core",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Orb_00016.webp'
      },
      {
        name: "Talus's Transcendent Core",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Weapon/IT_P_Orb_00009A.webp'
      }
    ]
  },
  armor: {
    'Helmet': [
      {
        name: 'Fallen Dynasty Helmet',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Part_PL_M_HM_00018B.webp'
      },
      {
        name: 'Blood Hunter Hood',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_LE_M_HM_05002A.webp'
      },
      {
        name: 'Errant Scion Brim',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_LE_M_HM_00022A.webp'
      }
    ],
    'Chest Armor': [
      {
        name: 'Fallen Dynasty Plate Armor',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Part_PL_M_TS_00013A.webp'
      },
      {
        name: 'Blood Hunter Garb',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Part_LE_M_TS_00018A.webp'
      },
      {
        name: 'Twilight Embrace Robes',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_FA_M_TS_00005C.webp'
      },
      {
        name: 'Crimson Lotus Chestplate',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_PL_M_TS_00019B.webp'
      }
    ],
    'Pants': [
      {
        name: 'Fallen Dynasty Leg Plates',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_PL_M_PT_00010B.webp'
      },
      {
        name: 'Twilight Embrace Pants',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_FA_M_PT_00008C.webp'
      },
      {
        name: 'Umbral Astarch Pants',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_LE_M_PT_00030.webp'
      }
    ],
    'Boots': [
      {
        name: 'Fallen Dynasty Sabatons',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_PL_M_BT_00017A.webp'
      },
      {
        name: 'Blood Hunter Boots',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_LE_M_BT_00015A.webp'
      },
      {
        name: 'Twilight Embrace Shoes',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_FA_M_BT_00005C.webp'
      }
    ],
    'Gloves': [
      {
        name: 'Blood Hunter Hand Guards',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_LE_M_GL_00022C.webp'
      },
      {
        name: 'Twilight Embrace Gloves',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_FA_M_GL_00001D.webp'
      },
      {
        name: 'Veiled Concord Gloves',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_Set_LE_M_GL_00024.webp'
      }
    ],
    'Cloak': [
      {
        name: 'Cloak of the Blood Moon',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_M_CA_00032.webp'
      },
      {
        name: 'Cloak of Piercing Ice',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Armor/P_M_CA_00029.webp'
      }
    ]
  },
  accessories: {
    'Earring': [
      {
        name: 'Earrings of the Two Moons',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Acc/IT_P_Earring_00027.webp'
      },
      {
        name: "Venelux Scholar's Earrings",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Acc/IT_P_Earring_00028.webp'
      }
    ],
    'Belt': [
      {
        name: 'Belt of the Steadfast Pledge',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Acc/IT_P_Belt_00055.webp'
      },
      {
        name: 'Sash of Rustling Leaves',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Acc/IT_P_Belt_00049.webp'
      }
    ],
    'Necklace': [
      {
        name: 'Locket of Unregretted Sin',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Acc/IT_P_Necklace_00054.webp'
      }
    ],
    'Bracelet': [
      {
        name: 'Wristlet of Cold Revenge',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Acc/IT_P_Bracelet_00051.webp'
      },
      {
        name: 'Endless Breeze Bracelet',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Acc/IT_P_Bracelet_00049.webp'
      }
    ],
    'Ring': [
      {
        name: "DaVinci's Signet Ring",
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Acc/IT_P_Ring_00063.webp'
      },
      {
        name: 'Band of Brutal Agony',
        imageUrl: 'https://cdn.questlog.gg/throne-and-liberty/assets/Game/Image/Icon/Item_128/Equip/Acc/IT_P_Ring_00060.webp'
      }
    ]
  }
};

/**
 * Get all categories
 */
function getCategories() {
  return [
    { label: 'âš”ï¸ Weapons', value: 'weapons' },
    { label: 'ðŸ›¡ï¸ Armor', value: 'armor' },
    { label: 'ðŸ’ Accessories', value: 'accessories' }
  ];
}

/**
 * Get subcategories for a given category
 */
function getSubcategories(category) {
  if (!ITEMS[category]) return [];

  const subcategories = Object.keys(ITEMS[category]);

  // Add appropriate emojis based on category
  const emojiMap = {
    weapons: {
      'Sword & Shield': 'ðŸ—¡ï¸',
      'Greatsword': 'âš”ï¸',
      'Daggers': 'ðŸ—¡ï¸',
      'Bow': 'ðŸ¹',
      'Crossbow': 'ðŸ¹',
      'Wand': 'ðŸŽ©',
      'Staff': 'âœ¨',
      'Spear': 'ðŸ”±',
      'Orb': 'ðŸ”®'
    },
    armor: {
      'Helmet': 'â›‘ï¸',
      'Chest Armor': 'ðŸ›¡ï¸',
      'Pants': 'ðŸ‘–',
      'Boots': 'ðŸ‘¢',
      'Gloves': 'ðŸ§¤',
      'Cloak': 'ðŸ§¥'
    },
    accessories: {
      'Earring': 'ðŸ‘‚',
      'Belt': 'ðŸŽ—ï¸',
      'Necklace': 'ðŸ“¿',
      'Bracelet': 'ðŸ’Ž',
      'Ring': 'ðŸ’'
    }
  };

  return subcategories.map(sub => ({
    label: `${emojiMap[category]?.[sub] || ''} ${sub}`.trim(),
    value: sub
  }));
}

/**
 * Get items for a given category and subcategory
 * Returns properly formatted options for StringSelectMenuBuilder
 * Uses index-based values to avoid 100-character limit
 */
function getItems(category, subcategory) {
  if (!ITEMS[category] || !ITEMS[category][subcategory]) return [];

  return ITEMS[category][subcategory].map((item, index) => {
    // Truncate label if needed (max 100 chars)
    const label = item.name.length > 100 ? item.name.substring(0, 97) + '...' : item.name;

    // Use a compact index-based value format: "category:subcategory:index"
    // This is always under 100 characters
    const value = `${category}:${subcategory}:${index}`;

    return {
      label: label,
      value: value
    };
  });
}

/**
 * Get item data from index-based value
 * Parses "category:subcategory:index" format
 */
function getItemFromValue(value) {
  const [category, subcategory, indexStr] = value.split(':');
  const index = parseInt(indexStr);

  if (!ITEMS[category] || !ITEMS[category][subcategory]) {
    return null;
  }

  return ITEMS[category][subcategory][index] || null;
}

module.exports = {
  ITEMS,
  getCategories,
  getSubcategories,
  getItems,
  getItemFromValue
};